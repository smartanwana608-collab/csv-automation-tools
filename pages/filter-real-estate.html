<section class="filter-page">

  <!-- Upload -->
  <div class="filter-section">
    <h2>1. Upload CSV</h2>
    <div class="upload-box">
      <input type="file" id="csvInput" accept=".csv" />
    </div>

    <div class="file-meta">
      <div class="meta-pill">File: <span id="fileName">—</span></div>
      <div class="meta-pill">Rows: <span id="rowCount">—</span></div>
      <div class="meta-pill">Columns: <span id="colCount">—</span></div>
    </div>
  </div>

  <!-- Keywords -->
  <div class="filter-section">
    <h2>2. Detection Keywords</h2>
    <p>Matched across name, company, and email</p>

    <div class="keyword-wrap" id="keywordBox"></div>

    <div class="keyword-input">
      <input id="newKeyword" placeholder="Add keyword" />
      <button onclick="addKeyword()">Add</button>
    </div>
  </div>

  <!-- Analyze -->
  <div class="filter-section">
    <h2>3. Analyze</h2>
    <button onclick="analyzeCSV()">Analyze CSV</button>

    <div class="analyze-row">
      <div class="stat-pill"><span id="agentCount">0</span> Agents</div>
      <div class="stat-pill"><span id="possibleCount">0</span> Possible</div>
      <div class="stat-pill"><span id="otherCount">0</span> Others</div>
    </div>
  </div>

  <!-- Preview -->
  <div class="filter-section">
    <h2>Results Preview</h2>

    <div class="preview-grid">

      <div class="preview-box">
        <h3>Leadcleer Agents</h3>
        <div class="table-wrap">
          <table id="agentsTable"></table>
        </div>
      </div>

      <div class="preview-box">
        <h3>Possible Agents</h3>
        <div class="table-wrap">
          <table id="possibleTable"></table>
        </div>
      </div>

      <div class="preview-box">
        <h3>Other Contacts</h3>
        <div class="table-wrap">
          <table id="othersTable"></table>
        </div>
      </div>

    </div>

    <div class="download-row">
      <button onclick="download('agents')">Download Agents CSV</button>
      <button onclick="download('possible')">Download Possible CSV</button>
      <button onclick="download('others')">Download Others CSV</button>
    </div>
  </div>

</section>
